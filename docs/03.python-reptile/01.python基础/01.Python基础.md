---
title: Python基础
date: 2022-07-15 13:40:16
permalink: /pages/2cdffe/
categories:
  - python逆向爬虫
tags:
  - 
author: 
  name: 小阳爱技术
  link: https://blog.abck8s.com
---
# Python逆向爬虫之Python基础

> 我们学习python语言是为了控制计算机、让计算机能够像人一样去工作，所以在python这门语言中，所有语法存在的意义都是为了让计算机具备人的某一项技能，这句话是我们理解后续所有python语法的根本。

## 一、变量

![img](../.vuepress/public/img/1825659-20191009214100004-1219206341.jpg)

### 1.1 什么是变量

```bash
变量就是可以变化的量，量指的是事物的状态，比如人的年龄、性别，游戏角色的等级、金钱等等
```

### 1.2 为什么要有变量

```bash
为了让计算机能够像人一样去记忆事物的某种状态，并且状态是可以发生变化的
详细地说：
	程序执行的本质就是一系列状态的变化，变是程序执行的直接体现，所以我们需要有一种机制能够反映或者说是保存下来程序执行时状态，以及状态的变化。
```

### 1.3 如何使用变量

#### 1.3.1 变量的定义与使用

变量的定义由三部分组成

```bash
name = '小阳爱技术' # 记下人的名字为'小阳爱技术'
sex = '男'    # 记下人的性别为男性
age = 18      # 记下人的年龄为18岁
salary = 30000.1  # 记下人的薪资为30000.1元
```

解释器执行到变量定义的代码时会申请内存空间存放变量值，然后将变量值的内存地址绑定给变量名，通过变量名即可引用到对应的值

```bash
# 通过变量名即可引用到值，我们可以结合print()功能将其打印出来
print(age) # 通过变量名age找到值18，然后执行print(18),输出：18
```

#### 1.3.2 变量名的命名规范

变量名的命名应该见名知意。

```bash
# 如果我们要存储的数据18代表的是一个人的年龄，那么变量名推荐命名为age
age = 18 
# 如果我们要存储的数据18代表的是一个人的等级，那么变量名推荐命名为level
level = 18
```

其他详细规范如下

```bash
# 命名规范
1. 变量名只能是 字母、数字或下划线的任意组合
2. 变量名的第一个字符不能是数字
3. 关键字不能声明为变量名，常用关键字如下
['and', 'as', 'assert', 'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except', 'exec', 'finally', 'for', 'from','global', 'if', 'import', 'in', 'is', 'lambda', 'not', 'or', 'pass', 'print', 'raise', 'return', 'try', 'while', 'with', 'yield']

# 错误示范如下：
*a=123
$b=456
c$=789
2_name='lili'
123='lili'
and=123
年龄=18 # 强烈建议不要使用中文命名

# 正确示范如下
age_of_jason=31
page1='首页'
_class='终极一班'
```

#### 1.3.3 变量名的命名风格

```bash
# 风格一：驼峰体
AgeOfTony = 56 
NumberOfStudents = 80
# 风格二：纯小写下划线(在python中，变量名的命名推荐使用该风格)
age_of_tony = 56 
number_of_students = 80
```

#### 1.3.4 变量值的三大特性

变量的值具备三大特性

```bash
#1、id
反应的是变量在内存中的唯一编号，内存地址不同id肯定不同

#2、type
变量值的类型

#3、value
变量值
```

查看变量值三大特性的方式如下，我们将会在运算符中用到变量值的三大特性

```bash
>>> x='Info Tony:18'
>>> id(x),type(x),x
4376607152，<class 'str'>,'Info Tony:18'
```

## 二、常量

### 2.1 什么是常量

常量指在程序运行过程中不会改变的量。

### 2.2 为什么要有常量

在程序运行过程中，有些值是固定的、不应该被改变，比如圆周率 3.141592653...

### 2.3 怎么使用常量

在Python中没有一个专门的语法定义常量，约定俗成是用全部大写的变量名表示常量。如：PI=3.14159。所以单从语法层面去讲，常量的使用与变量完全一致。

## 三、数据类型及常用方法

> 我们学习变量是为了让计算机能够像人一样去记忆事物的某种状态，而变量的值就是用来存储事物状态的，很明显事物的状态分成不同种类的（比如人的年龄，身高，职位，工资等等），所以变量值也应该有不同的类型，例如：
>
> ```bash
> salary = 3.1 # 用浮点型去记录薪资
> age = 18 # 用整型去记录年龄
> name = 'lili' # 用字符串类型去记录人名
> ```

### 3.1 数字类型

#### 3.1.1 int整型

**作用**

用来记录人的年龄，出生年份，学生人数等整数相关的状态 

**定义**

```bash
age=18

birthday=1990

student_count=48
```

#### 3.1.2 float浮点型

**作用**

用来记录人的身高，体重，薪资等小数相关的状态。

**定义**

```bash
height=172.3

weight=103.5

salary=15000.89
```

#### 3.1.3 数字类型的使用

**数学运算**

```bash
>>> a = 1
>>> b = 3
>>> c = a + b
>>> c
4
```

**比较大小**

```bash
>>> x = 10
>>> y = 11
>>> x > y
False
```

### 3.2 字符串类型

**作用**

用来记录人的名字，家庭住址，性别等描述性质的状态。

**定义**

```bash
name = '小阳爱技术'
address = '上海市浦东新区'
sex = '男'
```

用单引号、双引号、多引号，都可以定义字符串，本质上是没有区别的，但是

```bash
#1、需要考虑引号嵌套的配对问题
msg = "My name is 小阳爱技术 , I'm 18 years old!" #内层有单引号，外层就需要用双引号
#2、多引号可以写多行字符串
msg = '''
        天下只有两种人。比如一串葡萄到手，一种人挑最好的先吃，另一种人把最好的留到最后吃。
        照例第一种人应该乐观，因为他每吃一颗都是吃剩的葡萄里最好的；第二种人应该悲观，因为他每吃一颗都是吃剩的葡萄里最坏的。
        不过事实却适得其反，缘故是第二种人还有希望，第一种人只有回忆。
      '''
```

**使用**

```bash
数字可以进行加减乘除等运算，字符串呢？也可以，但只能进行"相加"和"相乘"运算。
>>> name = '小阳爱技术'
>>> age = '18'
>>> name + age #相加其实就是简单的字符串拼接
'小阳爱技术18'
>>> name * 5 #相乘就相当于将字符串相加了5次
'小阳爱技术小阳爱技术小阳爱技术小阳爱技术小阳爱技术'
```

### 3.3 列表list

**作用**

如果我们需要用一个变量记录多个学生的姓名，用数字类型是无法实现，字符串类型确实可以记录下来，比如

stu_names='张三 李四 王五'，但存的目的是为了取，此时若想取出第二个学生的姓名实现起来相当麻烦，而列表类型就是专门用来记录多个同种属性的值（比如同一个班级多个学生的姓名、同一个人的多个爱好等），并且存取都十分方便

**定义**

```bash
>>> stu_names=['张三','李四','王五']
```

**使用**

```bash
# 1、列表类型是用索引来对应值，索引代表的是数据的位置，从0开始计数
>>> stu_names=['张三','李四','王五']
>>> stu_names[0] 
'张三'
>>> stu_names[1]
'李四'
>>> stu_names[2]
'王五'
# 2、列表可以嵌套，嵌套取值如下
>>> students_info=[['小阳爱技术',18,['DBJ','xy']],['小阳爱技术1',18,['play','sleep']]]
>>> students_info[0][2][0] #取出第一个学生的第一个爱好
'DBJ'
```

### 3.4 字典dict

**作用**

如果我们需要用一个变量记录多个值，但多个值是不同属性的，比如人的姓名、年龄、身高，用列表可以存，但列表是用索引对应值的，而索引不能明确地表示值的含义，这就用到字典类型，字典类型是用key：value形式来存储数据，其中key可以对value有描述性的功能。

**定义** 

```bash
>>> person_info={'name':'小阳爱技术','age':18,'height':185.3}
```

**使用**

```python
# 1、字典类型是用key来对应值，key可以对值有描述性的功能，通常为字符串类型
>>> person_info={'name':'小阳爱技术','age':18,'height':185.3}
>>> person_info['name']
'小阳爱技术'
>>> person_info['age']
18
>>> person_info['height']
185.3
# 2、字典可以嵌套，嵌套取值如下
>>> students=[
... {'name':'小阳爱技术','age':38,'hobbies':['play','sleep']},
... {'name':'jack','age':18,'hobbies':['read','sleep']},
... {'name':'rose','age':58,'hobbies':['music','read','sleep']},
... ]
>>> students[1]['hobbies'][1] #取第二个学生的第二个爱好
'sleep'
```

### 3.5 布尔bool

**作用**

用来记录真假这两种状态

**定义**

存储布尔值的变量名，一般推荐使用is开头

```python
>>> is_right = True
>>> is_delete = False
```

**使用** 

```bash
通常用来当作判断的条件，我们将在if判断中用到它。
```

## 四、用户交互

### 4.1 什么是与用户交互

用户交互就是人往计算机中input/输入数据，计算机print/输出结果。

### 4.2 为什么要与用户交互

为了让计算机能够像人一样与用户沟通交流

比如，过去我们去银行取钱，用户需要把帐号密码告诉柜员，而现在，柜员被ATM机取代，ATM机就是一台计算机，所以用户同样需要将帐号密码告诉计算机，于是我们的程序中必须有相应的机制来控制计算机接收用户输入的内容，并且输出结果

### 4.3 如何与用户交互

交互的本质就是输入、输出

**输入input**

```bash
# 在python3中input功能会等待用户的输入，用户输入任何内容，都存成字符串类型，然后赋值给等号左边的变量名
>>> username=input('请输入您的用户名：') 
请输入您的用户名：小阳爱技术 # username = "小阳爱技术"
>>> password=input('请输入您的密码：') 
请输入您的密码：123 # password = "123"

# 了解知识：
# 1、在python2中存在一个raw_input功能与python3中的input功能一模一样
# 2、在python2中还存在一个input功能，需要用户输入一个明确的数据类型，输入什么类型就存成什么类型
>>> l=input('输入什么类型就存成什么类型: ')
输入什么类型就存成什么类型: [1,2,3]
>>> type(l)
<type 'list'>
```

**输出print**

```bash
>>> print('hello world')  # 只输出一个值
hello world
>>> print('first','second','third')  # 一次性输出多个值，值用逗号隔开
first second third

# 默认print功能有一个end参数，该参数的默认值为"\n"(代表换行)，可以将end参数的值改成任意其它字符
print("aaaa",end='')
print("bbbb",end='&')
print("cccc",end='@')
#整体输出结果为：aaaabbbb&cccc@
```

## 五、输出之格式化输出

### 5.1 什么是格式化输出

把一段字符串里面的某些内容替换掉之后再输出，就是格式化输出。

### 5.2 为什么要格式化输出

我们经常会输出具有某种固定格式的内容，比如：'亲爱的xxx你好！你xxx月的话费是xxx，余额是xxx‘，我们需要做的就是将xxx替换为具体的内容。 

### 5.3 如何格式化输出

这就用到了占位符，如：%s、%d：

```python
# %s占位符：可以接收任意类型的值
# %d占位符：只能接收数字
>>> print('亲爱的%s你好！你%s月的话费是%d，余额是%d' %('tony',12,103,11))
亲爱的tony你好！你12月的话费是103，余额是11

# 练习1：接收用户输入，打印成指定格式
name = input('your name: ')
age = input('your age: ') #用户输入18,会存成字符串18,无法传给%d
print('My name is %s,my age is %s' %(name,age))
    
# 练习2：用户输入姓名、年龄、工作、爱好 ，然后打印成以下格式
------------ info of Tony -----------
Name  : Tony
Age   : 22
Sex   : male
Job   : Teacher 
------------- end -----------------
```

## 六、基本运算符

### 6.1 算术运算符

python支持的算数运算符与数学上计算的符号使用是一致的，并在此基础稍作变化。

![img](../.vuepress/public/img/1342004-20220522115133625-539941194.png)

### 6.2 比较运算符

比较运算用来对两个值进行比较，返回的是布尔值True或False。

![img](../.vuepress/public/img/1342004-20220522115308066-1566075413.png)

### 6.3 赋值运算符

python语法中除了有=号这种简单的赋值运算外，还支持增量赋值、链式赋值、交叉赋值、解压赋值，这些赋值运算符存在的意义都是为了让我们的代码看起来更加精简

#### 6.3.1 链式赋值

如果我们想把同一个值同时赋值给多个变量名，可以这么做

```bash
>>> z=10
>>> y=z
>>> x=y
>>> x,y,z
(10, 10, 10)
```

链式赋值指的是可以用一行代码搞定这件事

```bash
>>> x=y=z=10
>>> x,y,z
(10, 10, 10)
```

#### 6.3.2 交叉赋值

我们定义两个变量m与n

```bash
>>> m=10
>>> n=20
```

如果我们想将m与n的值交换过来，可以这么做

```bash
>>> temp=m
>>> m=n
>>> n=temp
>>> m,n
(20, 10)
```

交叉赋值指的是一行代码可以搞定这件事

```bash
>>> m=10
>>> n=20
>>> m,n=n,m # 交叉赋值
>>> m,n
(20, 10)
```

### 6.3.3 解压赋值

如果我们想把列表中的多个值取出来依次赋值给多个变量名，可以这么做

```bash
>>> nums=[11,22,33,44,55]
>>> 
>>> a=nums[0]
>>> b=nums[1]
>>> c=nums[2]
>>> d=nums[3]
>>> e=nums[4]
>>> a,b,c,d,e
(11, 22, 33, 44, 55)
```

解压赋值指的是一行代码可以搞定这件事

```bash
>>> a,b,c,d,e=nums # nums包含多个值，就好比一个压缩包，解压赋值因此得名
>>> a,b,c,d,e
(11, 22, 33, 44, 55)
```

注意，上述解压赋值，等号左边的变量名个数必须与右面包含值的个数相同,否则会报错。

```bash
#1、变量名少了
>>> a,b=nums
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: too many values to unpack (expected 2)

#2、变量名多了
>>> a,b,c,d,e,f=nums
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: not enough values to unpack (expected 6, got 5)
```

但如果我们只想取头尾的几个值，可以用*_匹配

```bash
>>> a,b,*_=nums
>>> a,b
(11, 22)
```

ps：字符串、字典、元组、集合类型都支持解压赋值

### 6.3.4 逻辑运算符

逻辑运算符用于连接多个条件，进行关联判断，会返回布尔值True或False。

#### 1. 连续多个and

可以用and连接多个条件，会按照从左到右的顺序依次判断，一旦某一个条件为False，则无需再往右判断，可以立即判定最终结果就为False，只有在所有条件的结果都为True的情况下，最终结果才为True。

```bash
>>> 2 > 1 and 1 != 1 and True and 3 > 2 # 判断完第二个条件，就立即结束，得的最终结果为False
False
```

#### 2. 连续多个or

可以用or连接多个条件，会按照从左到右的顺序依次判断，一旦某一个条件为True，则无需再往右判断，可以立即判定最终结果就为True，只有在所有条件的结果都为False的情况下，最终结果才为False。

```bash
>>> 2 > 1 or 1 != 1 or True or 3 > 2 # 判断完第一个条件，就立即结束，得的最终结果为True
True
```

#### 3. 混用and、or、not

```bash
# and、or、not三者如果混用时，是存在优先级之分的，但在日常开发中我们无需记忆优先级，应该使用()来区分优先级、提升程序的可读性
>>> (3>4 and 4>3) or ((1==3 and 'x' == 'x') or 3 >3)
False 
```

### 6.3.5 成员运算符

注意：虽然下述两种判断可以达到相同的效果，但我们推荐使用第二种格式，因为not in语义更加明确

```bash
>>> not 'lili' in ['小阳爱技术','tom','robin']
True
>>> 'lili' not in ['小阳爱技术','tom','robin']
True
```

### 6.3.6 身份运算符

需要强调的是：==双等号比较的是value是否相等，而is比较的是id是否相等

```bash
#1. id相同，内存地址必定相同，意味着type和value必定相同
#2. value相同type肯定相同，但id可能不同,如下
>>> x='Info Tony:18'
>>> y='Info Tony:18'
>>> id(x),id(y) # x与y的id不同，但是二者的值相同
(4327422640, 4327422256)


>>> x == y # 等号比较的是value
True
>>> type(x),type(y) # 值相同type肯定相同
(<class 'str'>, <class 'str'>)
>>> x is y # is比较的是id，x与y的值相等但id可以不同
False
```



