---
title: Python逆向爬虫之bs4
date: 2022-07-16 19:50:54
permalink: /pages/9905e7/
categories:
  - python-reptile
  - Python爬虫基础
tags:
  - 
author: 
  name: 小阳爱技术
  link: https://blog.abck8s.com
---

# Python逆向爬虫之bs4

bs4 全名 BeautifulSoup，是编写 python 爬虫常用库之一，主要用来解析 html 标签。

## 一、初始化

```python
pip install bs4

from bs4 import BeautifulSoup

soup = BeautifulSoup("<html>A Html Text</html>", "html.parser")
```

两个参数：第一个参数是要解析的html文本，第二个参数是使用那种解析器，对于HTML来讲就是html.parser，这个是bs4自带的解析器。

如果一段HTML或XML文档格式不正确的话，那么在不同的解析器中返回的结果可能是不一样的。

| 解析器       | 使用方法                                                     | 优势                                                         |
| ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Python标准库 | BeautifulSoup(html, "html.parser")                           | 1、Python的内置标准库<br/>2、执行速度适中<br/>3、文档容错能力强 |
| lxml HTML    | BeautifulSoup(html, "lxml")                                  | 1、速度快<br/>2、文档容错能力强                              |
| lxml XML     | BeautifulSoup(html, ["lxml", "xml"])<br/>BeautifulSoup(html, "xml") | 1、速度快<br/>2、唯一支持XML的解析器                         |
| html5lib     | BeautifulSoup(html, "html5lib")                              | 1、最好的容错性<br>2、以浏览器的方式解析文档<br>3、生成HTML5格式的文档 |

**格式化输出**

```python
soup.prettify()  # prettify 有括号和没括号都可以
```

## 二、对象

Beautfiful Soup将复杂HTML文档转换成一个复杂的树形结构，每个节点都是Python对象，所有对象可以归纳为4种：tag，NavigableString，BeautifulSoup，Comment。

### 1、tag

Tag对象与 xml 或 html 原生文档中的 tag 相同。

```python
from bs4 import BeautifulSoup

soup = BeautifulSoup('<b class="boldest">Extremely bold</b>', 'lxml')

tag = soup.b

print(type(tag))
```

如果不存在，则返回 None，如果存在多个，则返回第一个。

